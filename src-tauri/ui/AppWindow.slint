import { Button } from "std-widgets.slint";

export component AppWindow inherits Window {
    title: "PDFbull";
    min_width: 640px;
    min_height: 480px;
    
    in property<int> current_page: 0;
    in property<int> total_pages: 0;
    in property<float> zoom: 1.0;
    in property<string> document_path: "";
    in property<string> status_text: "Ready";
    in property<bool> sidebar_visible: true;
    
    callback open_file();
    callback close_file();
    callback previous_page();
    callback next_page();
    
    background: #1e1e1e;
    
    VerticalLayout {
        padding: 0px;
        spacing: 0px;
        
        // Toolbar
        Rectangle {
            height: 48px;
            background: #2d2d2d;
            HorizontalLayout {
                padding: 8px;
                spacing: 8px;
                
                Button { text: "Open"; clicked => { open_file(); } }
                Button { text: "Close"; clicked => { close_file(); } }
                Button { text: "Save"; }
                Button { text: "Print"; }
                
                Rectangle { width: 20px; }
                
                Button { text: "Prev"; clicked => { previous_page(); } }
                Button { text: "Next"; clicked => { next_page(); } }
                
                Rectangle { width: 20px; }
                
                Button { text: "Fit"; }
                
                Rectangle { width: 400px; }
            }
        }
        
        // Main area
        HorizontalLayout {
            padding: 0px;
            spacing: 0px;
            
            // Sidebar
            if sidebar_visible: Rectangle {
                width: 200px;
                background: #252525;
                
                VerticalLayout {
                    padding: 12px;
                    spacing: 12px;
                    
                    Rectangle {
                        height: 30px;
                        background: #333;
                        Text { text: "Pages"; }
                    }
                }
            }
            
            // Viewer
            Rectangle {
                background: #404040;
                
                VerticalLayout {
                    padding: 20px;
                    alignment: center;
                    
                    Rectangle {
                        width: 612px;
                        height: 792px;
                        background: white;
                        drop_shadow_blur: 12px;
                        drop_shadow_color: #00000040;
                    }
                }
            }
        }
        
        // Status bar
        Rectangle {
            height: 28px;
            background: #007acc;
            HorizontalLayout {
                padding: 6px;
                spacing: 16px;
                
                Text { text: status_text; }
                Rectangle { width: 300px; }
                Text { text: "Page"; }
                Rectangle { width: 16px; }
                Text { text: "Zoom"; }
            }
        }
    }
}
